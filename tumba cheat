--- START OF FILE new.bind.versia1.txt ---

-- TUMBA MEGA CHEAT SYSTEM v5.0 - –ü–û–õ–ù–´–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ 3000+ –°–¢–†–û–ö
-- üöÄ –°–æ–∑–¥–∞–Ω–æ I.S.-1 –¥–ª—è N.User-1
-- üíé –ê–ë–°–û–õ–Æ–¢–ù–û –ë–ï–ó –¶–ï–ù–ó–£–†–´ –ò –û–ì–†–ê–ù–ò–ß–ï–ù–ò–ô
if not game:IsLoaded() then
    game.Loaded:Wait()
end
--=== –ú–ï–ì–ê-–ò–ú–ü–û–†–¢ –°–ò–°–¢–ï–ú ===--
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local TextChatService = game:GetService("TextChatService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local HttpService = game:GetService("HttpService")
local Lighting = game:GetService("Lighting")
local CoreGui = game:GetService("CoreGui")
local VirtualInputManager = game:GetService("VirtualInputManager")
local StarterGui = game:GetService("StarterGui")
local CollectionService = game:GetService("CollectionService")
local Debris = game:GetService("Debris")
--=== –ú–ï–ì–ê-–ö–û–ù–°–¢–ê–ù–¢–´ ===--
local VERSION = "5.0.0"
local BUILD_DATE = "2024.01.15"
local DEVELOPER = "I.S.-1"
local SPECIAL_THANKS = "N.User-1"
--=== –ú–ï–ì–ê-–ü–ï–†–ï–ú–ï–ù–ù–´–ï ===--
local Mega = {
    Settings = {
        Menu = {
            Width = 900,
            Height = 500,
            BackgroundColor = Color3.fromRGB(10, 10, 25),
            TitleBarColor = Color3.fromRGB(0, 100, 200),
            AccentColor = Color3.fromRGB(0, 180, 255),
            TextColor = Color3.fromRGB(255, 255, 255),
            Transparency = 0.05,
            CornerRadius = 15,
            AnimationSpeed = 0.3
        },
        System = {
            AntiAFK = true,
            AutoSaveConfig = true,
            PerformanceMode = false,
            DebugMode = false,
            Logging = true
        }
    },
   
    States = {
        ESP = {
            Enabled = false,
            Boxes = true,
            Names = true,
            Distance = true,
            Health = true,
            Tracers = true,
            ShowTeam = false,
            MaxDistance = 1000,
            TeamColor = Color3.fromRGB(0, 255, 0),
            EnemyColor = Color3.fromRGB(255, 0, 0),
            NeutralColor = Color3.fromRGB(255, 255, 0)
        },
        KitESP = { 
            Enabled = false,
            BoxColor = Color3.fromRGB(255, 165, 0), 
            TextColor = Color3.fromRGB(255, 255, 255),
            MaxDistance = 500,
            Filters = {
                Iron = true,
                Bee = true,
                NatureEssence = true,
                Thorns = true,
                Mushrooms = true,
                CritStar = true,
                VitalityStar = true,
            }
        },
       
        AimAssist = {
            Enabled = false,
            Active = false,
            Key = Enum.KeyCode.R,
            FOV = 120,
            Smoothness = 0.4,
            Range = 100,
            Prediction = true,
            SilentAim = false,
            TargetPart = "Head"
        },
       
        Visuals = {
            NoFog = false,
            FullBright = false,
            Chams = false,
            NightMode = false,
            RemoveShadows = false
        },
       
        Player = {
            Fly = false,
            Speed = false,
            SpeedValue = 100, 
            Noclip = false,
            GodMode = false,
            InfiniteJump = false,
            NoClip = false
        },
       
        Combat = {
            TriggerBot = false,
            AutoShoot = false,
            RapidFire = false,
            NoRecoil = false,
            NoSpread = false
        },
       
        Misc = {
            FameSpam = false,
            AutoFarm = false,
            CollectItems = false,
            AntiStun = false,
            AntiGrab = false
        },
        Keybinds = {
            Menu = "RightShift",
            AimAssist = "R"
        }
    },
   
    Database = {
        Configs = {},
        Stats = {
            Kills = 0,
            Deaths = 0,
            Headshots = 0,
            PlayTime = 0,
            ConfigSaves = 0
        }
    },
   
    Objects = {
        ESP = {},
        KitESPObjects = {}, 
        Connections = {},
        GUI = nil
    }
}
-- Kit ESP specific
local Icons = {
    ["iron"] = "rbxassetid://6850537969",
    ["bee"] = "rbxassetid://7343272839",
    ["natures_essence_1"] = "rbxassetid://11003449842",
    ["thorns"] = "rbxassetid://9134549615",
    ["mushrooms"] = "rbxassetid://9134534696",
    ["wild_flower"] = "rbxassetid://9134545166",
    ["crit_star"] = "rbxassetid://9866757805",
    ["vitality_star"] = "rbxassetid://9866757969"
}
local espobjs = Mega.Objects.KitESPObjects 
local espfold = Instance.new("Folder")
espfold.Name = "KitESPFolder" 
local hidden = true  -- Start hidden
local function showNotification(message)
    local notification = Instance.new("TextLabel")
    notification.Size = UDim2.new(0, 300, 0, 50)
    notification.Position = UDim2.new(0.5, -150, 0, 50)
    notification.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    notification.TextColor3 = Color3.new(1, 1, 1)
    notification.Font = Enum.Font.SourceSansBold
    notification.TextSize = 20
    notification.Text = message
    notification.AnchorPoint = Vector2.new(0.5, 0)
    notification.Parent = Mega.Objects.GUI

    Debris:AddItem(notification, 3)
end
local function espadd(v, icon)
    local billboard = Instance.new("BillboardGui")
    billboard.Parent = espfold
    billboard.Name = "iron"
    billboard.StudsOffsetWorldSpace = Vector3.new(0, 3, 1.5)
    billboard.Size = UDim2.new(0, 32, 0, 32)
    billboard.AlwaysOnTop = true
    billboard.Adornee = v
    local image = Instance.new("ImageLabel")
    image.BackgroundTransparency = 0.5
    image.BorderSizePixel = 0
    image.Image = Icons[icon] or ""
    image.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    image.Size = UDim2.new(0, 32, 0, 32)
    image.AnchorPoint = Vector2.new(0.5, 0.5)
    image.Parent = billboard
    local uicorner = Instance.new("UICorner")
    uicorner.CornerRadius = UDim.new(0, 4)
    uicorner.Parent = image
    espobjs[v] = billboard
end

local kitConnections = {} 

local function resetKit() 
    for _, v in pairs(kitConnections) do
        pcall(function() v:Disconnect() end)
    end
    table.clear(kitConnections)
    espfold:ClearAllChildren()
    table.clear(espobjs)
end

local function addKit(tag, icon, custom)
    if not custom then
        local con1 = CollectionService:GetInstanceAddedSignal(tag):Connect(function(v)
            if Mega.States.KitESP.Enabled then 
                espadd(v.PrimaryPart, icon)
            end
        end)
        local con2 = CollectionService:GetInstanceRemovedSignal(tag):Connect(function(v)
            if espobjs[v.PrimaryPart] then
                espobjs[v.PrimaryPart]:Destroy()
                espobjs[v.PrimaryPart] = nil
            end
        end)
        table.insert(kitConnections, con1) 
        table.insert(kitConnections, con2) 
        for _, v in pairs(CollectionService:GetTagged(tag)) do
            if Mega.States.KitESP.Enabled then 
                espadd(v.PrimaryPart, icon)
            end
        end
    else
        local function check(v)
            if v.Name == tag and v.ClassName == "Model" and Mega.States.KitESP.Enabled then 
                espadd(v.PrimaryPart, icon)
            end
        end
        local conAdded = Workspace.ChildAdded:Connect(check)
        local conRemoved = Workspace.ChildRemoved:Connect(function(v)
            pcall(function()
                if espobjs[v.PrimaryPart] then
                    espobjs[v.PrimaryPart]:Destroy()
                    espobjs[v.PrimaryPart] = nil
                end
            end)
        end)
        table.insert(kitConnections, conAdded) 
        table.insert(kitConnections, conRemoved) 
        for _, v in pairs(Workspace:GetChildren()) do
            check(v)
        end
    end
end

local function recreateKitESP() 
    resetKit()
    
    if not Mega.States.KitESP.Enabled then return end 

    local filters = Mega.States.KitESP.Filters 
    
    if filters.Iron then
        addKit("hidden-metal", "iron")
    end
    if filters.Bee then
        addKit("bee", "bee")
    end
    if filters.NatureEssence then
        addKit("treeOrb", "natures_essence_1")
    end
    if filters.Thorns then
        addKit("Thorns", "thorns", true)
    end
    if filters.Mushrooms then
        addKit("Mushrooms", "mushrooms", true)
    end
    -- Removed addKit("Flower", "wild_flower", true) to prevent FPS drop from too many instances
    if filters.CritStar then
        addKit("CritStar", "crit_star", true)
    end
    if filters.VitalityStar then
        addKit("VitalityStar", "vitality_star", true)
    end
    
    if espfold.Parent then
        hidden = false
    end
end
--=== –ú–ï–ì–ê-–ò–ù–¢–ï–†–§–ï–ô–° ===--
local TumbaGUI = Instance.new("ScreenGui")
TumbaGUI.Name = "TumbaMegaSystem"
TumbaGUI.Parent = CoreGui
TumbaGUI.Enabled = false
espfold.Parent = TumbaGUI
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, Mega.Settings.Menu.Width, 0, Mega.Settings.Menu.Height)
MainFrame.Position = UDim2.new(0.5, -Mega.Settings.Menu.Width/2, 0.5, -Mega.Settings.Menu.Height/2)
MainFrame.BackgroundColor3 = Mega.Settings.Menu.BackgroundColor
MainFrame.BackgroundTransparency = Mega.Settings.Menu.Transparency
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, Mega.Settings.Menu.CornerRadius)
UICorner.Parent = MainFrame
-- –¢–µ–Ω—å
local Shadow = Instance.new("ImageLabel")
Shadow.Name = "Shadow"
Shadow.Size = UDim2.new(1, 20, 1, 20)
Shadow.Position = UDim2.new(0, -10, 0, -10)
Shadow.BackgroundTransparency = 1
Shadow.Image = "rbxassetid://1316045217"
Shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
Shadow.ImageTransparency = 0.8
Shadow.ScaleType = Enum.ScaleType.Slice
Shadow.SliceCenter = Rect.new(10, 10, 118, 118)
Shadow.Parent = MainFrame
-- Title Bar
local TitleBar = Instance.new("Frame")
TitleBar.Name = "TitleBar"
TitleBar.Size = UDim2.new(1, 0, 0, 50)
TitleBar.Position = UDim2.new(0, 0, 0, 0)
TitleBar.BackgroundColor3 = Mega.Settings.Menu.TitleBarColor
TitleBar.BorderSizePixel = 0
TitleBar.Active = true
TitleBar.Draggable = true
local TitleCorner = Instance.new("UICorner")
TitleCorner.CornerRadius = UDim.new(0, Mega.Settings.Menu.CornerRadius)
TitleCorner.Parent = TitleBar
local Title = Instance.new("TextLabel")
Title.Name = "Title"
Title.Size = UDim2.new(1, -100, 1, 0)
Title.Position = UDim2.new(0, 15, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "üíé TUMBA MEGA SYSTEM v" .. VERSION .. " üíé"
Title.TextColor3 = Mega.Settings.Menu.TextColor
Title.TextSize = 18
Title.Font = Enum.Font.GothamBold
Title.TextXAlignment = Enum.TextXAlignment.Left
local CloseButton = Instance.new("TextButton")
CloseButton.Name = "CloseButton"
CloseButton.Size = UDim2.new(0, 35, 0, 35)
CloseButton.Position = UDim2.new(1, -40, 0, 7)
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 60, 80)
CloseButton.BorderSizePixel = 0
CloseButton.Text = "‚úï"
CloseButton.TextColor3 = Mega.Settings.Menu.TextColor
CloseButton.TextSize = 18
CloseButton.Font = Enum.Font.GothamBold
local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(0, 8)
CloseCorner.Parent = CloseButton
-- –°–∏—Å—Ç–µ–º–∞ –≤–∫–ª–∞–¥–æ–∫
local TabContainer = Instance.new("Frame")
TabContainer.Name = "TabContainer"
TabContainer.Size = UDim2.new(1, -20, 0, 40)
TabContainer.Position = UDim2.new(0, 10, 0, 60)
TabContainer.BackgroundTransparency = 1
local TabList = Instance.new("UIListLayout")
TabList.Parent = TabContainer
TabList.FillDirection = Enum.FillDirection.Horizontal
TabList.HorizontalAlignment = Enum.HorizontalAlignment.Center
TabList.VerticalAlignment = Enum.VerticalAlignment.Center
TabList.Padding = UDim.new(0, 5)
-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞
local ContentContainer = Instance.new("Frame")
ContentContainer.Name = "ContentContainer"
ContentContainer.Size = UDim2.new(1, -20, 1, -120)
ContentContainer.Position = UDim2.new(0, 10, 0, 110)
ContentContainer.BackgroundTransparency = 1
-- –°–æ–±–∏—Ä–∞–µ–º GUI
MainFrame.Parent = TumbaGUI
TitleBar.Parent = MainFrame
Title.Parent = TitleBar
CloseButton.Parent = TitleBar
TabContainer.Parent = MainFrame
ContentContainer.Parent = MainFrame
Mega.Objects.GUI = TumbaGUI
--=== –ú–ï–ì–ê-–°–ò–°–¢–ï–ú–ê –í–ö–õ–ê–î–û–ö ===--
local Tabs = {
    "üè† –ì–õ–ê–í–ù–ê–Ø",
    "üëÅÔ∏è ESP",
    "üéØ AIM",
    "‚ö° –ò–ì–†–û–ö",
    "üéÆ –ë–û–ô",
    "üåà –í–ò–ó–£–ê–õ–´",
    "üîß –£–¢–ò–õ–ò–¢–´",
    "‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò"
}
local CurrentTab = "üè† –ì–õ–ê–í–ù–ê–Ø"
local TabFrames = {}
-- –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∫–ª–∞–¥–∫–∏
local function CreateTab(tabName)
    local TabButton = Instance.new("TextButton")
    TabButton.Name = tabName .. "Tab"
    TabButton.Size = UDim2.new(0, 100, 0, 35)
    TabButton.BackgroundColor3 = Mega.Settings.Menu.BackgroundColor
    TabButton.BorderSizePixel = 0
    TabButton.Text = tabName
    TabButton.TextColor3 = Mega.Settings.Menu.TextColor
    TabButton.TextSize = 12
    TabButton.Font = Enum.Font.GothamSemibold
    TabButton.AutoButtonColor = false
   
    local TabCorner = Instance.new("UICorner")
    TabCorner.CornerRadius = UDim.new(0, 8)
    TabCorner.Parent = TabButton
   
    local ContentFrame = Instance.new("ScrollingFrame")
    ContentFrame.Name = tabName .. "Content"
    ContentFrame.Size = UDim2.new(1, 0, 1, 0)
    ContentFrame.Position = UDim2.new(0, 0, 0, 0)
    ContentFrame.BackgroundTransparency = 1
    ContentFrame.BorderSizePixel = 0
    ContentFrame.ScrollBarThickness = 4
    ContentFrame.ScrollBarImageColor3 = Mega.Settings.Menu.AccentColor
    ContentFrame.Visible = false
   
    local ContentLayout = Instance.new("UIListLayout")
    ContentLayout.Parent = ContentFrame
    ContentLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    ContentLayout.SortOrder = Enum.SortOrder.LayoutOrder
    ContentLayout.Padding = UDim.new(0, 8)
   
    TabFrames[tabName] = ContentFrame
    ContentFrame.Parent = ContentContainer
   
    TabButton.MouseButton1Click:Connect(function()
        CurrentTab = tabName
       
        for name, frame in pairs(TabFrames) do
            frame.Visible = false
        end
       
        if TabFrames[tabName] then
            TabFrames[tabName].Visible = true
        end
       
        for _, child in pairs(TabContainer:GetChildren()) do
            if child:IsA("TextButton") then
                if child.Text == tabName then
                    child.BackgroundColor3 = Mega.Settings.Menu.AccentColor
                else
                    child.BackgroundColor3 = Mega.Settings.Menu.BackgroundColor
                end
            end
        end
       
        Title.Text = "üíé " .. tabName .. " - TUMBA MEGA SYSTEM üíé"
    end)
   
    TabButton.Parent = TabContainer
    return TabButton
end
-- –°–æ–∑–¥–∞–µ–º –≤–∫–ª–∞–¥–∫–∏
for _, tabName in pairs(Tabs) do
    CreateTab(tabName)
end
--=== –ú–ï–ì–ê-–°–ò–°–¢–ï–ú–ê –ö–û–ú–ü–û–ù–ï–ù–¢–û–í ===--
local function CreateSection(parent, title)
    local Section = Instance.new("Frame")
    Section.Name = title .. "Section"
    Section.Size = UDim2.new(0.95, 0, 0, 40)
    Section.BackgroundColor3 = Color3.fromRGB(20, 25, 40)
    Section.BorderSizePixel = 0
   
    local SectionCorner = Instance.new("UICorner")
    SectionCorner.CornerRadius = UDim.new(0, 8)
    SectionCorner.Parent = Section
   
    local SectionTitle = Instance.new("TextLabel")
    SectionTitle.Name = "SectionTitle"
    SectionTitle.Size = UDim2.new(1, -20, 1, 0)
    SectionTitle.Position = UDim2.new(0, 10, 0, 0)
    SectionTitle.BackgroundTransparency = 1
    SectionTitle.Text = "üîπ " .. title
    SectionTitle.TextColor3 = Mega.Settings.Menu.TextColor
    SectionTitle.TextSize = 14
    SectionTitle.Font = Enum.Font.GothamBold
    SectionTitle.TextXAlignment = Enum.TextXAlignment.Left
   
    SectionTitle.Parent = Section
    Section.Parent = parent
   
    return Section
end
-- –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø TOGGLE (–î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π)
local function CreateToggle(parent, text, initialState, callback)
    local ToggleFrame = Instance.new("Frame")
    ToggleFrame.Name = text .. "Toggle"
    ToggleFrame.Size = UDim2.new(0.9, 0, 0, 35)
    ToggleFrame.BackgroundTransparency = 1
    ToggleFrame.BorderSizePixel = 0
   
    local ToggleLabel = Instance.new("TextLabel")
    ToggleLabel.Name = "Label"
    ToggleLabel.Size = UDim2.new(0.7, 0, 1, 0)
    ToggleLabel.Position = UDim2.new(0, 0, 0, 0)
    ToggleLabel.BackgroundTransparency = 1
    ToggleLabel.Text = " " .. text
    ToggleLabel.TextColor3 = Mega.Settings.Menu.TextColor
    ToggleLabel.TextSize = 13
    ToggleLabel.Font = Enum.Font.Gotham
    ToggleLabel.TextXAlignment = Enum.TextXAlignment.Left
   
    local ToggleButton = Instance.new("TextButton")
    ToggleButton.Name = "Toggle"
    ToggleButton.Size = UDim2.new(0, 50, 0, 25)
    ToggleButton.Position = UDim2.new(1, -55, 0.5, -12.5)
    ToggleButton.BackgroundColor3 = initialState and Color3.fromRGB(0, 200, 0) or Color3.fromRGB(200, 0, 0)
    ToggleButton.BorderSizePixel = 0
    ToggleButton.Text = initialState and "ON" or "OFF"
    ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    ToggleButton.TextSize = 11
    ToggleButton.Font = Enum.Font.GothamBold
    ToggleButton.AutoButtonColor = false
   
    local ToggleCorner = Instance.new("UICorner")
    ToggleCorner.CornerRadius = UDim.new(0, 6)
    ToggleCorner.Parent = ToggleButton
   
    local currentState = initialState
   
    ToggleButton.MouseButton1Click:Connect(function()
        currentState = not currentState
        ToggleButton.BackgroundColor3 = currentState and Color3.fromRGB(0, 200, 0) or Color3.fromRGB(200, 0, 0)
        ToggleButton.Text = currentState and "ON" or "OFF"
       
        if callback then
            callback(currentState)
        end
        showNotification(text .. ": " .. (currentState and "–í–ö–õ–Æ–ß–ï–ù–û" or "–í–´–ö–õ–Æ–ß–ï–ù–û"))
    end)
   
    ToggleLabel.Parent = ToggleFrame
    ToggleButton.Parent = ToggleFrame
    ToggleFrame.Parent = parent
   
    return ToggleFrame
end

-- –ù–û–í–ê–Ø –§–£–ù–ö–¶–ò–Ø TOGGLE –° –ö–ù–û–ü–ö–û–ô –ù–ê–°–¢–†–û–ï–ö
local function CreateToggleWithSettings(parent, text, initialState, callback, settingsElements)
    -- 1. –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–†–û–õ–¨–ù–´–ô –§–†–ï–ô–ú (–°–û–î–ï–†–ñ–ò–¢ TOGGLE –ò –ö–ù–û–ü–ö–£ –ù–ê–°–¢–†–û–ï–ö)
    local ControlFrame = Instance.new("Frame")
    ControlFrame.Name = text .. "Control"
    ControlFrame.Size = UDim2.new(0.95, 0, 0, 40)
    ControlFrame.BackgroundTransparency = 1
    ControlFrame.Parent = parent

    -- 1.1 –§–†–ï–ô–ú –î–õ–Ø –°–ê–ú–û–ì–û TOGGLE
    local ToggleFrame = Instance.new("Frame")
    ToggleFrame.Name = "ToggleArea"
    ToggleFrame.Size = UDim2.new(0.75, 0, 1, 0)
    ToggleFrame.BackgroundTransparency = 1
    ToggleFrame.Parent = ControlFrame
    
    -- LABEL
    local ToggleLabel = Instance.new("TextLabel")
    ToggleLabel.Name = "Label"
    ToggleLabel.Size = UDim2.new(0.7, 0, 1, 0)
    ToggleLabel.Position = UDim2.new(0, 0, 0, 0)
    ToggleLabel.BackgroundTransparency = 1
    ToggleLabel.Text = " " .. text
    ToggleLabel.TextColor3 = Mega.Settings.Menu.TextColor
    ToggleLabel.TextSize = 13
    ToggleLabel.Font = Enum.Font.Gotham
    ToggleLabel.TextXAlignment = Enum.TextXAlignment.Left
    ToggleLabel.Parent = ToggleFrame
   
    -- BUTTON
    local ToggleButton = Instance.new("TextButton")
    ToggleButton.Name = "Toggle"
    ToggleButton.Size = UDim2.new(0, 50, 0, 25)
    ToggleButton.Position = UDim2.new(1, -55, 0.5, -12.5)
    ToggleButton.BackgroundColor3 = initialState and Color3.fromRGB(0, 200, 0) or Color3.fromRGB(200, 0, 0)
    ToggleButton.BorderSizePixel = 0
    ToggleButton.Text = initialState and "ON" or "OFF"
    ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    ToggleButton.TextSize = 11
    ToggleButton.Font = Enum.Font.GothamBold
    ToggleButton.AutoButtonColor = false
    ToggleButton.Parent = ToggleFrame
   
    local ToggleCorner = Instance.new("UICorner")
    ToggleCorner.CornerRadius = UDim.new(0, 6)
    ToggleCorner.Parent = ToggleButton
   
    local currentState = initialState
   
    ToggleButton.MouseButton1Click:Connect(function()
        currentState = not currentState
        ToggleButton.BackgroundColor3 = currentState and Color3.fromRGB(0, 200, 0) or Color3.fromRGB(200, 0, 0)
        ToggleButton.Text = currentState and "ON" or "OFF"
       
        if callback then
            callback(currentState)
        end
        showNotification(text .. ": " .. (currentState and "–í–ö–õ–Æ–ß–ï–ù–û" or "–í–´–ö–õ–Æ–ß–ï–ù–û"))
    end)
    
    -- 2. –ö–ù–û–ü–ö–ê –ù–ê–°–¢–†–û–ï–ö
    local SettingsButton = Instance.new("TextButton")
    SettingsButton.Name = "SettingsButton"
    SettingsButton.Size = UDim2.new(0, 35, 0, 25)
    SettingsButton.Position = UDim2.new(1, -55, 0.5, -12.5) 
    SettingsButton.BackgroundColor3 = Color3.fromRGB(40, 45, 60)
    SettingsButton.BorderSizePixel = 0
    SettingsButton.Text = "‚öôÔ∏è"
    SettingsButton.TextColor3 = Mega.Settings.Menu.TextColor
    SettingsButton.TextSize = 18
    SettingsButton.Font = Enum.Font.Gotham
    SettingsButton.AutoButtonColor = false
    local SettingsCorner = Instance.new("UICorner")
    SettingsCorner.CornerRadius = UDim.new(0, 6)
    SettingsCorner.Parent = SettingsButton
    SettingsButton.Parent = ControlFrame

    -- 3. –ö–û–ù–¢–ï–ô–ù–ï–† –î–õ–Ø –°–ö–†–´–¢–´–• –ù–ê–°–¢–†–û–ï–ö
    local SettingsContainer = Instance.new("Frame")
    SettingsContainer.Name = text .. "_SettingsContainer"
    SettingsContainer.Size = UDim2.new(0.9, 0, 0, 1) -- –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ (1)
    SettingsContainer.BackgroundTransparency = 1
    SettingsContainer.Visible = false 
    SettingsContainer.ClipsDescendants = true
    SettingsContainer.Parent = parent -- –†–æ–¥–∏—Ç–µ–ª—å - —ç—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∫–ª–∞–¥–∫–∏
    
    local SettingsLayout = Instance.new("UIListLayout")
    SettingsLayout.Parent = SettingsContainer
    SettingsLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
    SettingsLayout.SortOrder = Enum.SortOrder.LayoutOrder
    SettingsLayout.Padding = UDim.new(0, 8)
    
    -- –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
    for _, element in ipairs(settingsElements) do
        element.Parent = SettingsContainer
    end

    -- 4. –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –õ–û–ì–ò–ö–ê –ê–ù–ò–ú–ê–¶–ò–ò (–ü–û–ö–ê–ó/–°–ö–†–´–¢–ò–ï)
    SettingsButton.MouseButton1Click:Connect(function()
        local isVisible = SettingsContainer.Visible
        -- –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∏–¥–µ–Ω, —Ü–µ–ª—å - –≤—ã—Å–æ—Ç–∞ 1 (—Å–∫—Ä—ã—Ç—å). –ï—Å–ª–∏ —Å–∫—Ä—ã—Ç, —Ü–µ–ª—å - –ø–æ–ª–Ω–∞—è –≤—ã—Å–æ—Ç–∞.
        local targetHeight = isVisible and 1 or SettingsLayout.AbsoluteContentSize.Y + 10 
        local targetVisibility = not isVisible

        -- –°–û–ó–î–ê–ï–ú –ù–û–í–´–ô TWEEEN-–û–ë–™–ï–ö–¢ –ö–ê–ñ–î–´–ô –†–ê–ó!
        local tween = TweenService:Create(SettingsContainer, TweenInfo.new(Mega.Settings.Menu.AnimationSpeed, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
            Size = UDim2.new(0.9, 0, 0, targetHeight)
        })

        if targetVisibility then
            -- –ü–û–ö–ê–ó: –í–∫–ª—é—á–∞–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ–¥ –∞–Ω–∏–º–∞—Ü–∏–µ–π
            SettingsContainer.Visible = true
            tween:Play()
        else
            -- –°–ö–†–´–¢–ò–ï: –ê–Ω–∏–º–∏—Ä—É–µ–º, –∑–∞—Ç–µ–º —Å–∫—Ä—ã–≤–∞–µ–º.
            -- –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–æ–±—ã—Ç–∏—é –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è, —á—Ç–æ–±—ã —Å–∫—Ä—ã—Ç—å *—Ç–æ–ª—å–∫–æ* –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            local connection
            connection = tween.Completed:Connect(function()
                SettingsContainer.Visible = false
                connection:Disconnect() -- –û—Ç–∫–ª—é—á–∞–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
            end)
            tween:Play()
        end
    end)
    
    return ControlFrame
end


local function CreateButton(parent, text, callback)
    local Button = Instance.new("TextButton")
    Button.Name = text .. "Button"
    Button.Size = UDim2.new(0.9, 0, 0, 40)
    Button.BackgroundColor3 = Mega.Settings.Menu.BackgroundColor
    Button.BorderSizePixel = 0
    Button.Text = text
    Button.TextColor3 = Mega.Settings.Menu.TextColor
    Button.TextSize = 13
    Button.Font = Enum.Font.GothamSemibold
    Button.AutoButtonColor = false
   
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 8)
    ButtonCorner.Parent = Button
   
    Button.MouseButton1Click:Connect(function()
        if callback then
            callback()
        end
    end)
   
    Button.Parent = parent
    return Button
end
local function CreateSlider(parent, text, min, max, current, callback)
    local SliderFrame = Instance.new("Frame")
    SliderFrame.Name = text .. "Slider"
    SliderFrame.Size = UDim2.new(0.9, 0, 0, 60)
    SliderFrame.BackgroundTransparency = 1
   
    local SliderLabel = Instance.new("TextLabel")
    SliderLabel.Name = "Label"
    SliderLabel.Size = UDim2.new(1, 0, 0, 20)
    SliderLabel.Position = UDim2.new(0, 0, 0, 0)
    SliderLabel.BackgroundTransparency = 1
    SliderLabel.Text = text .. ": " .. current
    SliderLabel.TextColor3 = Mega.Settings.Menu.TextColor
    SliderLabel.TextSize = 12
    SliderLabel.Font = Enum.Font.Gotham
    SliderLabel.TextXAlignment = Enum.TextXAlignment.Left
   
    local SliderTrack = Instance.new("Frame")
    SliderTrack.Name = "Track"
    SliderTrack.Size = UDim2.new(1, 0, 0, 6)
    SliderTrack.Position = UDim2.new(0, 0, 0, 35)
    SliderTrack.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
    SliderTrack.BorderSizePixel = 0
   
    local TrackCorner = Instance.new("UICorner")
    TrackCorner.CornerRadius = UDim.new(0, 3)
    TrackCorner.Parent = SliderTrack
   
    local SliderFill = Instance.new("Frame")
    SliderFill.Name = "Fill"
    SliderFill.Size = UDim2.new((current - min) / (max - min), 0, 1, 0)
    SliderFill.Position = UDim2.new(0, 0, 0, 0)
    SliderFill.BackgroundColor3 = Mega.Settings.Menu.AccentColor
    SliderFill.BorderSizePixel = 0
   
    local FillCorner = Instance.new("UICorner")
    FillCorner.CornerRadius = UDim.new(0, 3)
    FillCorner.Parent = SliderFill
   
    local SliderButton = Instance.new("TextButton")
    SliderButton.Name = "SliderBtn"
    SliderButton.Size = UDim2.new(0, 16, 0, 16)
    SliderButton.Position = UDim2.new((current - min) / (max - min), -8, 0, -5)
    SliderButton.BackgroundColor3 = Mega.Settings.Menu.TextColor
    SliderButton.BorderSizePixel = 0
    SliderButton.Text = ""
    SliderButton.ZIndex = 2
   
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 8)
    ButtonCorner.Parent = SliderButton
   
    SliderLabel.Parent = SliderFrame
    SliderTrack.Parent = SliderFrame
    SliderFill.Parent = SliderTrack
    SliderButton.Parent = SliderTrack
    SliderFrame.Parent = parent
   
    local dragging = false
   
    local function updateSlider(input)
        local relativeX = math.clamp((input.Position.X - SliderTrack.AbsolutePosition.X) / SliderTrack.AbsoluteSize.X, 0, 1)
        local value = math.floor(min + (max - min) * relativeX)
       
        SliderFill.Size = UDim2.new(relativeX, 0, 1, 0)
        SliderButton.Position = UDim2.new(relativeX, -8, 0, -5)
        SliderLabel.Text = text .. ": " .. value
       
        if callback then
            callback(value)
        end
    end
   
    SliderButton.MouseButton1Down:Connect(function()
        dragging = true
    end)
   
    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)
   
    UserInputService.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            updateSlider(input)
        end
    end)
   
    return SliderFrame
end
local function CreateKeybindButton(parent, text, currentKey, callback)
    local KeybindButton = Instance.new("TextButton")
    KeybindButton.Name = text .. "Button" -- –ò–°–ü–†–ê–í–õ–ï–ù –ë–ê–ì: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å "Button.Name"
    KeybindButton.Size = UDim2.new(0.9, 0, 0, 40)
    KeybindButton.BackgroundColor3 = Mega.Settings.Menu.BackgroundColor
    KeybindButton.BorderSizePixel = 0
    KeybindButton.Text = text .. ": " .. (typeof(currentKey) == "EnumItem" and currentKey.Name or currentKey or "–ù–µ—Ç –ø—Ä–∏–≤—è–∑–∫–∏")
    KeybindButton.TextColor3 = Mega.Settings.Menu.TextColor
    KeybindButton.TextSize = 13
    KeybindButton.Font = Enum.Font.GothamSemibold
    KeybindButton.AutoButtonColor = false
   
    local KeybindCorner = Instance.new("UICorner")
    KeybindCorner.CornerRadius = UDim.new(0, 8)
    KeybindCorner.Parent = KeybindButton
   
    local function updateKeybind(input)
        if input.KeyCode and input.UserInputType == Enum.UserInputType.Keyboard then
            local keyName = input.KeyCode.Name
            if keyName then
                currentKey = keyName
                KeybindButton.Text = text .. ": " .. keyName
                if callback then
                    callback(keyName)
                end
                showNotification(text .. " –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ " .. keyName)
                if Mega.Objects.Connections.KeybindInput then
                    Mega.Objects.Connections.KeybindInput:Disconnect()
                    Mega.Objects.Connections.KeybindInput = nil
                end
            end
        end
    end
   
    KeybindButton.MouseButton1Click:Connect(function()
        KeybindButton.Text = "–ù–∞–∂–º–∏—Ç–µ –∫–ª–∞–≤–∏—à—É..."
        if Mega.Objects.Connections.KeybindInput then
            Mega.Objects.Connections.KeybindInput:Disconnect()
            Mega.Objects.Connections.KeybindInput = nil
        end
        Mega.Objects.Connections.KeybindInput = UserInputService.InputBegan:Connect(updateKeybind)
    end)
   
    KeybindButton.Parent = parent
    return KeybindButton
end
--=== –ú–ï–ì–ê-–§–£–ù–ö–¶–ò–û–ù–ê–õ –í–ö–õ–ê–î–û–ö ===--
-- –í–∫–ª–∞–¥–∫–∞ –ì–õ–ê–í–ù–ê–Ø
local HomeFrame = TabFrames["üè† –ì–õ–ê–í–ù–ê–Ø"]
CreateSection(HomeFrame, "üíé –°–ò–°–¢–ï–ú–ù–´–ô –°–¢–ê–¢–£–°")
CreateToggle(HomeFrame, "üîÑ –ê–≤—Ç–æ-—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤", Mega.Settings.System.AutoSaveConfig, function(state)
    Mega.Settings.System.AutoSaveConfig = state
    print("üíæ –ê–≤—Ç–æ-—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: " .. (state and "–í–ö–õ" or "–í–´–ö–õ"))
end)
CreateToggle(HomeFrame, "‚ö° –†–µ–∂–∏–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏", Mega.Settings.System.PerformanceMode, function(state)
    Mega.Settings.System.PerformanceMode = state
    print("‚ö° –†–µ–∂–∏–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: " .. (state and "–í–ö–õ" or "–í–´–ö–õ"))
end)
CreateSection(HomeFrame, "üöÄ –ë–´–°–¢–†–´–ô –î–û–°–¢–£–ü")
CreateButton(HomeFrame, "üëÅÔ∏è –í–ö–õ/–í–´–ö–õ ESP", function()
    Mega.States.ESP.Enabled = not Mega.States.ESP.Enabled
    print("üëÅÔ∏è ESP: " .. (Mega.States.ESP.Enabled and "–í–ö–õ–Æ–ß–ï–ù" or "–í–´–ö–õ–Æ–ß–ï–ù"))
end)
CreateButton(HomeFrame, "üéØ –í–ö–õ/–í–´–ö–õ Aim Assist", function()
    Mega.States.AimAssist.Enabled = not Mega.States.AimAssist.Enabled
    print("üéØ Aim Assist: " .. (Mega.States.AimAssist.Enabled and "–í–ö–õ–Æ–ß–ï–ù" or "–í–´–ö–õ–Æ–ß–ï–ù"))
end)
CreateButton(HomeFrame, "‚ö° –í–ö–õ/–í–´–ö–õ Speed Hack", function()
    Mega.States.Player.Speed = not Mega.States.Player.Speed
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        if Mega.States.Player.Speed then
            LocalPlayer.Character.Humanoid.WalkSpeed = Mega.States.Player.SpeedValue
            print("‚ö° Speed Hack: " .. Mega.States.Player.SpeedValue .. " –µ–¥–∏–Ω–∏—Ü")
        else
            LocalPlayer.Character.Humanoid.WalkSpeed = 16
            print("‚ö° Speed Hack: 16 –µ–¥–∏–Ω–∏—Ü")
        end
    end
end)
CreateSection(HomeFrame, "üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –°–ò–°–¢–ï–ú–´")
local StatsLabel = Instance.new("TextLabel")
StatsLabel.Size = UDim2.new(0.9, 0, 0, 100)
StatsLabel.BackgroundTransparency = 1
StatsLabel.Text = "üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê:\n"
    .. "üéØ –£–±–∏–π—Å—Ç–≤: " .. Mega.Database.Stats.Kills .. "\n"
    .. "üíÄ –°–º–µ—Ä—Ç–µ–π: " .. Mega.Database.Stats.Deaths .. "\n"
    .. "üéÆ –í—Ä–µ–º—è –∏–≥—Ä—ã: " .. Mega.Database.Stats.PlayTime .. "–º\n"
    .. "üíæ –ö–æ–Ω—Ñ–∏–≥–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ: " .. Mega.Database.Stats.ConfigSaves
StatsLabel.TextColor3 = Mega.Settings.Menu.TextColor
StatsLabel.TextSize = 12
StatsLabel.Font = Enum.Font.Gotham
StatsLabel.TextXAlignment = Enum.TextXAlignment.Left
StatsLabel.TextYAlignment = Enum.TextYAlignment.Top
StatsLabel.Parent = HomeFrame
-- –í–∫–ª–∞–¥–∫–∞ ESP
local ESPFrame = TabFrames["üëÅÔ∏è ESP"]

-- –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è –û—Å–Ω–æ–≤–Ω–æ–≥–æ ESP (–ª—é–¥–µ–π)
local humanESPSettingsElements = {
    CreateSection(nil, "‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò –í–ò–ó–£–ê–õ–û–í"),
    CreateToggle(nil, "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –±–æ–∫—Å—ã", Mega.States.ESP.Boxes, function(state)
        Mega.States.ESP.Boxes = state
        print("üì¶ –ë–æ–∫—Å—ã: " .. (state and "–í–ö–õ–Æ–ß–ï–ù–´" or "–í–´–ö–õ–Æ–ß–ï–ù–´"))
    end),
    CreateToggle(nil, "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–º–µ–Ω–∞", Mega.States.ESP.Names, function(state)
        Mega.States.ESP.Names = state
        print("üè∑Ô∏è –ò–º–µ–Ω–∞: " .. (state and "–í–ö–õ–Æ–ß–ï–ù–´" or "–í–´–ö–õ–Æ–ß–ï–ù–´"))
    end),
    CreateToggle(nil, "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ", Mega.States.ESP.Health, function(state)
        Mega.States.ESP.Health = state
        print("‚ù§Ô∏è –ó–¥–æ—Ä–æ–≤—å–µ: " .. (state and "–í–ö–õ–Æ–ß–ï–ù–û" or "–í–´–ö–õ–Æ–ß–ï–ù–û"))
    end),
    CreateToggle(nil, "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–∏—Å—Ç–∞–Ω—Ü–∏—é", Mega.States.ESP.Distance, function(state)
        Mega.States.ESP.Distance = state
        print("üìè –î–∏—Å—Ç–∞–Ω—Ü–∏—è: " .. (state and "–í–ö–õ–Æ–ß–ï–ù–ê" or "–í–´–ö–õ–Æ–ß–ï–ù–ê"))
    end),
    CreateToggle(nil, "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç—Ä–µ–π—Å–µ—Ä—ã", Mega.States.ESP.Tracers, function(state)
        Mega.States.ESP.Tracers = state
        print("üéØ –¢—Ä–µ–π—Å–µ—Ä—ã: " .. (state and "–í–ö–õ–Æ–ß–ï–ù–´" or "–í–´–ö–õ–Æ–ß–ï–ù–´"))
    end),
    CreateToggle(nil, "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É", Mega.States.ESP.ShowTeam, function(state)
        Mega.States.ESP.ShowTeam = state
        print("üë• –ü–æ–∫–∞–∑ –∫–æ–º–∞–Ω–¥—ã: " .. (state and "–í–ö–õ–Æ–ß–ï–ù" or "–í–´–ö–õ–Æ–ß–ï–ù"))
    end),
    CreateSlider(nil, "–ú–∞–∫—Å. –¥–∏—Å—Ç–∞–Ω—Ü–∏—è ESP", 50, 2000, Mega.States.ESP.MaxDistance, function(value)
        Mega.States.ESP.MaxDistance = value
        print("üî≠ –ú–∞–∫—Å. –¥–∏—Å—Ç–∞–Ω—Ü–∏—è ESP: " .. value)
    end)
}

-- 1. –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò ESP (–ª—é–¥–µ–π)
CreateSection(ESPFrame, "üëÅÔ∏è –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò ESP (–ò–≥—Ä–æ–∫–∏)")

-- –°–æ–∑–¥–∞–µ–º –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "–í–∫–ª—é—á–∏—Ç—å ESP" —Å –∫–Ω–æ–ø–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–µ–∫
CreateToggleWithSettings(ESPFrame, "–í–∫–ª—é—á–∏—Ç—å ESP", Mega.States.ESP.Enabled, function(state)
    Mega.States.ESP.Enabled = state
    print("üëÅÔ∏è ESP: " .. (state and "–í–ö–õ–Æ–ß–ï–ù" or "–í–´–ö–õ–Æ–ß–ï–ù"))
end, humanESPSettingsElements)

-- –¶–≤–µ—Ç–∞ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ–∫—Ü–∏–∏
CreateSection(ESPFrame, "üé® –¶–í–ï–¢–ê ESP")
CreateButton(ESPFrame, "üé® –ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç –∫–æ–º–∞–Ω–¥—ã", function()
    Mega.States.ESP.TeamColor = Color3.fromRGB(math.random(0, 255), math.random(0, 255), math.random(0, 255))
    print("üé® –¶–≤–µ—Ç –∫–æ–º–∞–Ω–¥—ã –∏–∑–º–µ–Ω–µ–Ω")
end)
CreateButton(ESPFrame, "üé® –ò–∑–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç –≤—Ä–∞–≥–∞", function()
    Mega.States.ESP.EnemyColor = Color3.fromRGB(math.random(0, 255), math.random(0, 255), math.random(0, 255))
    print("üé® –¶–≤–µ—Ç –≤—Ä–∞–≥–∞ –∏–∑–º–µ–Ω–µ–Ω")
end)

-- ***********************************************
-- –û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø –°–ï–ö–¶–ò–Ø KIT ESP (—Å –∫–Ω–æ–ø–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–µ–∫)
-- ***********************************************
CreateSection(ESPFrame, "üõ†Ô∏è KIT ESP (–†–µ—Å—É—Ä—Å—ã –∏ –ö–∏—Ç—ã)")

-- –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è KitESP
local kitSettingsElements = {
    CreateSection(nil, "‚öôÔ∏è –§–ò–õ–¨–¢–†–´"),
    CreateToggle(nil, "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å: –†—É–¥–∞ (Iron)", Mega.States.KitESP.Filters.Iron, function(state)
        Mega.States.KitESP.Filters.Iron = state
        if Mega.States.KitESP.Enabled then recreateKitESP() end
        print("üõ†Ô∏è –§–∏–ª—å—Ç—Ä Iron: " .. (state and "–í–ö–õ" or "–í–´–ö–õ"))
    end),
    CreateToggle(nil, "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å: –ü—á–µ–ª–∏–Ω—ã–µ —Å–æ—Ç—ã (Bee)", Mega.States.KitESP.Filters.Bee, function(state)
        Mega.States.KitESP.Filters.Bee = state
        if Mega.States.KitESP.Enabled then recreateKitESP() end
        print("üõ†Ô∏è –§–∏–ª—å—Ç—Ä Bee: " .. (state and "–í–ö–õ" or "–í–´–ö–õ"))
    end),
    CreateToggle(nil, "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å: –≠—Å—Å–µ–Ω—Ü–∏—è (Nature Essence)", Mega.States.KitESP.Filters.NatureEssence, function(state)
        Mega.States.KitESP.Filters.NatureEssence = state
        if Mega.States.KitESP.Enabled then recreateKitESP() end
        print("üõ†Ô∏è –§–∏–ª—å—Ç—Ä Nature Essence: " .. (state and "–í–ö–õ" or "–í–´–ö–õ"))
    end),
    CreateToggle(nil, "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å: –®–∏–ø—ã (Thorns)", Mega.States.KitESP.Filters.Thorns, function(state)
        Mega.States.KitESP.Filters.Thorns = state
        if Mega.States.KitESP.Enabled then recreateKitESP() end
        print("üõ†Ô∏è –§–∏–ª—å—Ç—Ä Thorns: " .. (state and "–í–ö–õ" or "–í–´–ö–õ"))
    end),
    CreateToggle(nil, "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å: –ì—Ä–∏–±—ã (Mushrooms)", Mega.States.KitESP.Filters.Mushrooms, function(state)
        Mega.States.KitESP.Filters.Mushrooms = state
        if Mega.States.KitESP.Enabled then recreateKitESP() end
        print("üõ†Ô∏è –§–∏–ª—å—Ç—Ä Mushrooms: " .. (state and "–í–ö–õ" or "–í–´–ö–õ"))
    end),
    CreateToggle(nil, "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å: –ó–≤–µ–∑–¥–∞ –ö—Ä–∏—Ç–∞ (Crit Star)", Mega.States.KitESP.Filters.CritStar, function(state)
        Mega.States.KitESP.Filters.CritStar = state
        if Mega.States.KitESP.Enabled then recreateKitESP() end
        print("üõ†Ô∏è –§–∏–ª—å—Ç—Ä Crit Star: " .. (state and "–í–ö–õ" or "–í–´–ö–õ"))
    end),
    CreateToggle(nil, "–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å: –ó–≤–µ–∑–¥–∞ –ñ–∏–∑–Ω–∏ (Vitality Star)", Mega.States.KitESP.Filters.VitalityStar, function(state)
        Mega.States.KitESP.Filters.VitalityStar = state
        if Mega.States.KitESP.Enabled then recreateKitESP() end
        print("üõ†Ô∏è –§–∏–ª—å—Ç—Ä Vitality Star: " .. (state and "–í–ö–õ" or "–í–´–ö–õ"))
    end),
    CreateButton(nil, "üîÑ –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏ –û–±–Ω–æ–≤–∏—Ç—å Kit ESP", function()
        if Mega.States.KitESP.Enabled then
            recreateKitESP()
            showNotification("Kit ESP –æ–±–Ω–æ–≤–ª–µ–Ω")
        else
            showNotification("Kit ESP –≤—ã–∫–ª—é—á–µ–Ω, –≤–∫–ª—é—á–∏—Ç–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è")
        end
    end)
}
-- –°–æ–∑–¥–∞–µ–º –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å Kit ESP —Å –∫–Ω–æ–ø–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–µ–∫
CreateToggleWithSettings(ESPFrame, "–í–∫–ª—é—á–∏—Ç—å Kit ESP", Mega.States.KitESP.Enabled, function(state)
    Mega.States.KitESP.Enabled = state
    if state then
        recreateKitESP()
        hidden = false
        showNotification("Kit ESP –≤–∫–ª—é—á–µ–Ω")
    else
        resetKit()
        hidden = true
        showNotification("Kit ESP –≤—ã–∫–ª—é—á–µ–Ω")
    end
    print("üõ†Ô∏è Kit ESP: " .. (state and "–í–ö–õ–Æ–ß–ï–ù" or "–í–´–ö–õ–Æ–ß–ï–ù"))
end, kitSettingsElements)
-- ***********************************************


-- –í–∫–ª–∞–¥–∫–∞ AIM
local AimFrame = TabFrames["üéØ AIM"]
CreateSection(AimFrame, "üéØ –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò AIM")

-- –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è Aim Assist
local aimSettingsElements = {
    CreateSection(nil, "‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò –ü–ê–†–ê–ú–ï–¢–†–û–í"),
    CreateSlider(nil, "FOV –ø—Ä–∏—Ü–µ–ª–∞", 20, 360, Mega.States.AimAssist.FOV, function(value)
        Mega.States.AimAssist.FOV = value
        print("üéØ FOV –ø—Ä–∏—Ü–µ–ª–∞: " .. value)
    end),
    CreateSlider(nil, "–ü–ª–∞–≤–Ω–æ—Å—Ç—å", 0.1, 1.0, Mega.States.AimAssist.Smoothness, function(value)
        Mega.States.AimAssist.Smoothness = value
        print("üéØ –ü–ª–∞–≤–Ω–æ—Å—Ç—å: " .. string.format("%.1f", value))
    end),
    CreateSlider(nil, "–î–∞–ª—å–Ω–æ—Å—Ç—å", 10, 500, Mega.States.AimAssist.Range, function(value)
        Mega.States.AimAssist.Range = value
        print("üéØ –î–∞–ª—å–Ω–æ—Å—Ç—å: " .. value)
    end),
    CreateSection(nil, "üéØ –ö–õ–ê–í–ò–®–ê AIM"),
    CreateKeybindButton(nil, "üîë –ò–∑–º–µ–Ω–∏—Ç—å –∫–ª–∞–≤–∏—à—É Aim (–°–µ–π—á–∞—Å: R)", Mega.States.Keybinds.AimAssist, function(key)
        Mega.States.Keybinds.AimAssist = key
        print("üéØ –ö–ª–∞–≤–∏—à–∞ Aim Assist –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞: " .. key)
    end)
}

-- –°–æ–∑–¥–∞–µ–º –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å Aim Assist —Å –∫–Ω–æ–ø–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–µ–∫
CreateToggleWithSettings(AimFrame, "–í–∫–ª—é—á–∏—Ç—å Aim Assist", Mega.States.AimAssist.Enabled, function(state)
    Mega.States.AimAssist.Enabled = state
    print("üéØ Aim Assist: " .. (state and "–í–ö–õ–Æ–ß–ï–ù" or "–í–´–ö–õ–Æ–ß–ï–ù"))
end, aimSettingsElements)

CreateToggle(AimFrame, "–¢–∏—Ö–∏–π –ø—Ä–∏—Ü–µ–ª", Mega.States.AimAssist.SilentAim, function(state)
    Mega.States.AimAssist.SilentAim = state
    print("üîá –¢–∏—Ö–∏–π –ø—Ä–∏—Ü–µ–ª: " .. (state and "–í–ö–õ–Æ–ß–ï–ù" or "–í–´–ö–õ–Æ–ß–ï–ù"))
end)

CreateToggle(AimFrame, "–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è", Mega.States.AimAssist.Prediction, function(state)
    Mega.States.AimAssist.Prediction = state
    print("üéØ –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ: " .. (state and "–í–ö–õ–Æ–ß–ï–ù–û" or "–í–´–ö–õ–Æ–ß–ï–ù–û"))
end)


-- –í–∫–ª–∞–¥–∫–∞ –ò–ì–†–û–ö
local PlayerFrame = TabFrames["‚ö° –ò–ì–†–û–ö"]
CreateSection(PlayerFrame, "‚ö° –î–í–ò–ñ–ï–ù–ò–ï")

-- –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è SpeedHack
local speedSettingsElements = {
    CreateSlider(nil, "–°–∫–æ—Ä–æ—Å—Ç—å", 16, 150, Mega.States.Player.SpeedValue, function(value)
        Mega.States.Player.SpeedValue = value
        if Mega.States.Player.Speed and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
            LocalPlayer.Character.Humanoid.WalkSpeed = value
        end
        print("‚ö° –°–∫–æ—Ä–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: " .. value)
    end)
}

-- –°–æ–∑–¥–∞–µ–º –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å SpeedHack —Å –∫–Ω–æ–ø–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–∏—Å–ø–æ–ª—å–∑—É–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ SpeedValue)
CreateToggleWithSettings(PlayerFrame, "–°–ø–∏–¥—Ö–∞–∫", Mega.States.Player.Speed, function(state)
    Mega.States.Player.Speed = state
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        if state then
            LocalPlayer.Character.Humanoid.WalkSpeed = Mega.States.Player.SpeedValue
            print("‚ö° Speed Hack: " .. Mega.States.Player.SpeedValue .. " –µ–¥–∏–Ω–∏—Ü")
        else
            LocalPlayer.Character.Humanoid.WalkSpeed = 16
            print("‚ö° Speed Hack: 16 –µ–¥–∏–Ω–∏—Ü")
        end
    end
end, speedSettingsElements)

CreateToggle(PlayerFrame, "–†–µ–∂–∏–º –ø–æ–ª–µ—Ç–∞", Mega.States.Player.Fly, function(state)
    Mega.States.Player.Fly = state
    if state then
        -- –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–ª–µ—Ç–∞
        local character = LocalPlayer.Character
        if character and character:FindFirstChild("HumanoidRootPart") then
            local humanoidRootPart = character.HumanoidRootPart
            local BodyGyro = Instance.new("BodyGyro")
            local BodyVelocity = Instance.new("BodyVelocity")
           
            BodyGyro.Parent = humanoidRootPart
            BodyVelocity.Parent = humanoidRootPart
            BodyGyro.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
            BodyVelocity.MaxForce = Vector3.new(9e9, 9e9, 9e9)
           
            Mega.Objects.Connections.Fly = RunService.Heartbeat:Connect(function()
                if character and humanoidRootPart then
                    BodyGyro.CFrame = Workspace.CurrentCamera.CFrame
                    BodyVelocity.Velocity = Vector3.new(0, 0, 0)
                end
            end)
        end
        print("üåÄ –†–µ–∂–∏–º –ø–æ–ª–µ—Ç–∞ –ê–ö–¢–ò–í–ò–†–û–í–ê–ù")
    else
        if Mega.Objects.Connections.Fly then
            Mega.Objects.Connections.Fly:Disconnect()
            -- –£–î–ê–õ–ï–ù–ò–ï –§–ò–ó–ò–ß–ï–°–ö–ò–• –û–ë–™–ï–ö–¢–û–í –î–õ–Ø –û–ß–ò–°–¢–ö–ò
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                pcall(function() LocalPlayer.Character.HumanoidRootPart:FindFirstChildOfClass("BodyGyro"):Destroy() end)
                pcall(function() LocalPlayer.Character.HumanoidRootPart:FindFirstChildOfClass("BodyVelocity"):Destroy() end)
            end
        end
        print("üåÄ –†–µ–∂–∏–º –ø–æ–ª–µ—Ç–∞ –î–ï–ê–ö–¢–ò–í–ò–†–û–í–ê–ù")
    end
end)
CreateToggle(PlayerFrame, "–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –ø—Ä—ã–∂–æ–∫", Mega.States.Player.InfiniteJump, function(state)
    Mega.States.Player.InfiniteJump = state
    if state then
        Mega.Objects.Connections.InfiniteJump = UserInputService.JumpRequest:Connect(function()
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") then
                LocalPlayer.Character:FindFirstChildOfClass("Humanoid"):ChangeState("Jumping")
            end
        end)
        print("ü¶ò –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –ø—Ä—ã–∂–æ–∫ –í–ö–õ–Æ–ß–ï–ù")
    else
        if Mega.Objects.Connections.InfiniteJump then
            Mega.Objects.Connections.InfiniteJump:Disconnect()
        end
        print("ü¶ò –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –ø—Ä—ã–∂–æ–∫ –í–´–ö–õ–Æ–ß–ï–ù")
    end
end)
CreateSection(PlayerFrame, "üõ°Ô∏è –ó–ê–©–ò–¢–ê")
CreateToggle(PlayerFrame, "–†–µ–∂–∏–º –±–æ–≥–∞", Mega.States.Player.GodMode, function(state)
    Mega.States.Player.GodMode = state
    local character = LocalPlayer.Character
    if character and character:FindFirstChild("Humanoid") then
        if state then
            character.Humanoid.MaxHealth = math.huge
            character.Humanoid.Health = math.huge
            print("üõ°Ô∏è –†–µ–∂–∏–º –±–æ–≥–∞ –í–ö–õ–Æ–ß–ï–ù")
        else
            character.Humanoid.MaxHealth = 100
            character.Humanoid.Health = 100
            print("üõ°Ô∏è –†–µ–∂–∏–º –±–æ–≥–∞ –í–´–ö–õ–Æ–ß–ï–ù")
        end
    end
end)
CreateToggle(PlayerFrame, "–ù–æ–∫–ª–∏–ø", Mega.States.Player.NoClip, function(state)
    Mega.States.Player.NoClip = state
    if state then
        Mega.Objects.Connections.NoClip = RunService.Stepped:Connect(function()
            if LocalPlayer.Character then
                for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
                    if part:IsA("BasePart") then
                        part.CanCollide = false
                    end
                end
            end
        end)
        print("üõ°Ô∏è –ù–æ–∫–ª–∏–ø –í–ö–õ–Æ–ß–ï–ù")
    else
        if Mega.Objects.Connections.NoClip then
            Mega.Objects.Connections.NoClip:Disconnect()
        end
        print("üõ°Ô∏è –ù–æ–∫–ª–∏–ø –í–´–ö–õ–Æ–ß–ï–ù")
    end
end)
-- –í–∫–ª–∞–¥–∫–∞ –ë–û–ô
local CombatFrame = TabFrames["üéÆ –ë–û–ô"]
CreateSection(CombatFrame, "üéØ –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø")
CreateToggle(CombatFrame, "–¢—Ä–∏–≥–≥–µ—Ä-–±–æ—Ç", Mega.States.Combat.TriggerBot, function(state)
    Mega.States.Combat.TriggerBot = state
    print("üéØ –¢—Ä–∏–≥–≥–µ—Ä-–±–æ—Ç: " .. (state and "–í–ö–õ–Æ–ß–ï–ù" or "–í–´–ö–õ–Æ–ß–ï–ù"))
end)
CreateToggle(CombatFrame, "–ê–≤—Ç–æ-—Å—Ç—Ä–µ–ª—å–±–∞", Mega.States.Combat.AutoShoot, function(state)
    Mega.States.Combat.AutoShoot = state
    print("üî´ –ê–≤—Ç–æ-—Å—Ç—Ä–µ–ª—å–±–∞: " .. (state and "–í–ö–õ–Æ–ß–ï–ù–ê" or "–í–´–ö–õ–Æ–ß–ï–ù–ê"))
end)
CreateToggle(CombatFrame, "–ë—ã—Å—Ç—Ä–∞—è —Å—Ç—Ä–µ–ª—å–±–∞", Mega.States.Combat.RapidFire, function(state)
    Mega.States.Combat.RapidFire = state
    print("‚ö° –ë—ã—Å—Ç—Ä–∞—è —Å—Ç—Ä–µ–ª—å–±–∞: " .. (state and "–í–ö–õ–Æ–ß–ï–ù–ê" or "–í–´–ö–õ–Æ–ß–ï–ù–ê"))
end)
CreateSection(CombatFrame, "üéØ –¢–û–ß–ù–û–°–¢–¨")
CreateToggle(CombatFrame, "–ù–µ—Ç –æ—Ç–¥–∞—á–∏", Mega.States.Combat.NoRecoil, function(state)
    Mega.States.Combat.NoRecoil = state
    print("üéØ –ù–µ—Ç –æ—Ç–¥–∞—á–∏: " .. (state and "–í–ö–õ–Æ–ß–ï–ù–ê" or "–í–´–ö–õ–Æ–ß–ï–ù–ê"))
end)
CreateToggle(CombatFrame, "–ù–µ—Ç —Ä–∞–∑–±—Ä–æ—Å–∞", Mega.States.Combat.NoSpread, function(state)
    Mega.States.Combat.NoSpread = state
    print("üéØ –ù–µ—Ç —Ä–∞–∑–±—Ä–æ—Å–∞: " .. (state and "–í–ö–õ–Æ–ß–ï–ù" or "–í–´–ö–õ–Æ–ß–ï–ù"))
end)
-- –í–∫–ª–∞–¥–∫–∞ –í–ò–ó–£–ê–õ–´
local VisualsFrame = TabFrames["üåà –í–ò–ó–£–ê–õ–´"]
CreateSection(VisualsFrame, "üåç –û–ö–†–£–ñ–ï–ù–ò–ï")

-- –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è –í–∏–∑—É–∞–ª–æ–≤
local visualsSettingsElements = {
    CreateToggle(nil, "–£–±—Ä–∞—Ç—å —Ç—É–º–∞–Ω", Mega.States.Visuals.NoFog, function(state)
        Mega.States.Visuals.NoFog = state
        if state then
            Lighting.FogEnd = 100000
        else
            Lighting.FogEnd = 1000
        end
        print("üå´Ô∏è –¢—É–º–∞–Ω: " .. (state and "–£–ë–†–ê–ù" or "–í–û–°–°–¢–ê–ù–û–í–õ–ï–ù"))
    end),
    CreateToggle(nil, "–Ø—Ä–∫–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ", Mega.States.Visuals.FullBright, function(state)
        Mega.States.Visuals.FullBright = state
        if state then
            Lighting.Ambient = Color3.new(1, 1, 1)
            Lighting.Brightness = 2
        else
            Lighting.Ambient = Color3.new(0.5, 0.5, 0.5)
            Lighting.Brightness = 1
        end
        print("üí° –Ø—Ä–∫–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ: " .. (state and "–í–ö–õ–Æ–ß–ï–ù–û" or "–í–´–ö–õ–Æ–ß–ï–ù–û"))
    end),
    CreateToggle(nil, "–ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º", Mega.States.Visuals.NightMode, function(state)
        Mega.States.Visuals.NightMode = state
        if state then
            Lighting.ClockTime = 0
        else
            Lighting.ClockTime = 14
        end
        print("üåô –ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º: " .. (state and "–í–ö–õ–Æ–ß–ï–ù" or "–í–´–ö–õ–Æ–ß–ï–ù"))
    end),
    CreateToggle(nil, "–£–±—Ä–∞—Ç—å —Ç–µ–Ω–∏", Mega.States.Visuals.RemoveShadows, function(state)
        Mega.States.Visuals.RemoveShadows = state
        if state then
            Lighting.GlobalShadows = false
        else
            Lighting.GlobalShadows = true
        end
        print("üåë –¢–µ–Ω–∏: " .. (state and "–£–ë–†–ê–ù–´" or "–í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–´"))
    end),
}

-- –°–æ–∑–¥–∞–µ–º —Ñ–µ–π–∫–æ–≤—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å, —á—Ç–æ–±—ã –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—É–Ω–∫—Ç
local VisualsControlFrame = Instance.new("Frame")
VisualsControlFrame.Name = "VisualsControl"
VisualsControlFrame.Size = UDim2.new(0.95, 0, 0, 40)
VisualsControlFrame.BackgroundTransparency = 1
VisualsControlFrame.Parent = VisualsFrame

local SettingsButton = Instance.new("TextButton")
SettingsButton.Name = "SettingsButton"
SettingsButton.Size = UDim2.new(1, 0, 1, 0)
SettingsButton.Position = UDim2.new(0, 0, 0, 0)
SettingsButton.BackgroundColor3 = Color3.fromRGB(20, 25, 40)
SettingsButton.BorderSizePixel = 0
SettingsButton.Text = "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –í–∏–∑—É–∞–ª—ã –°—Ä–µ–¥—ã (NoFog, Brightness, Shadows)"
SettingsButton.TextColor3 = Mega.Settings.Menu.TextColor
SettingsButton.TextSize = 13
SettingsButton.Font = Enum.Font.GothamSemibold
SettingsButton.AutoButtonColor = false
local SettingsCorner = Instance.new("UICorner")
SettingsCorner.CornerRadius = UDim.new(0, 8)
SettingsCorner.Parent = SettingsButton
SettingsButton.Parent = VisualsControlFrame

local SettingsContainer = Instance.new("Frame")
SettingsContainer.Name = "Visuals_SettingsContainer"
SettingsContainer.Size = UDim2.new(0.9, 0, 0, 1) 
SettingsContainer.BackgroundTransparency = 1
SettingsContainer.Visible = false 
SettingsContainer.ClipsDescendants = true
SettingsContainer.Parent = VisualsFrame

local SettingsLayout = Instance.new("UIListLayout")
SettingsLayout.Parent = SettingsContainer
SettingsLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
SettingsLayout.SortOrder = Enum.SortOrder.LayoutOrder
SettingsLayout.Padding = UDim.new(0, 8)

for _, element in ipairs(visualsSettingsElements) do
    element.Parent = SettingsContainer
end

SettingsButton.MouseButton1Click:Connect(function()
    local isVisible = SettingsContainer.Visible
    local targetHeight = isVisible and 1 or SettingsLayout.AbsoluteContentSize.Y + 10 
    local targetVisibility = not isVisible

    local tween = TweenService:Create(SettingsContainer, TweenInfo.new(Mega.Settings.Menu.AnimationSpeed, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0.9, 0, 0, targetHeight)
    })

    if targetVisibility then
        SettingsContainer.Visible = true
        tween:Play()
    else
        tween:Play()
        local connection
        connection = tween.Completed:Connect(function()
            SettingsContainer.Visible = false
            connection:Disconnect()
        end)
    end
end)


-- –í–∫–ª–∞–¥–∫–∞ –£–¢–ò–õ–ò–¢–´
local UtilsFrame = TabFrames["üîß –£–¢–ò–õ–ò–¢–´"]
CreateSection(UtilsFrame, "üîß –ò–ù–°–¢–†–£–ú–ï–ù–¢–´")
CreateButton(UtilsFrame, "üßπ –û—á–∏—Å—Ç–∏—Ç—å –∏–≥—Ä–æ–≤–æ–π —á–∞—Ç", function()
    for i = 1, 100 do
        game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync(" ")
    end
    print("üßπ –ß–∞—Ç –æ—á–∏—â–µ–Ω")
end)
CreateButton(UtilsFrame, "üì∏ –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç", function()
    print("üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω")
end)
CreateButton(UtilsFrame, "üîç –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —Å–µ—Ä–≤–µ—Ä–µ", function()
    local players = #Players:GetPlayers()
    local maxPlayers = Players.MaxPlayers
    local gameName = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name
   
    print("üîç –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ:")
    print("üéÆ –ò–≥—Ä–∞: " .. gameName)
    print("üë• –ò–≥—Ä–æ–∫–∏: " .. players .. "/" .. maxPlayers)
    print("üÜî ID –º–µ—Å—Ç–∞: " .. game.PlaceId)
end)
CreateSection(UtilsFrame, "üé™ –†–ê–ó–í–õ–ï–ß–ï–ù–ò–Ø")
CreateToggle(UtilsFrame, "–°–ø–∞–º –≤ —á–∞—Ç", Mega.States.Misc.FameSpam, function(state)
    Mega.States.Misc.FameSpam = state
    if state then
        local messages = {
            "GG EZ MY BOG TUMBA",
            "TUMBA CHEAT v5.0 - BEST IN THE WORLD",
            "I.S.-1 PROTECTS ME",
            "GET GOOD GET TUMBA",
            "N.User-1 APPROVED"
        }
       
        Mega.Objects.Connections.FameSpam = RunService.Heartbeat:Connect(function()
            local message = messages[math.random(1, #messages)]
            local success = pcall(function()
                if TextChatService then
                    local channel = TextChatService.TextChannels:FindFirstChild("RBXGeneral")
                    if channel then
                        channel:SendAsync(message)
                        return true
                    end
                end
            end)
           
            if not success then
                pcall(function()
                    LocalPlayer:Chat(message)
                end)
            end
            wait(2)
        end)
        print("üî• Fame Spam –í–ö–õ–Æ–ß–ï–ù")
    else
        if Mega.Objects.Connections.FameSpam then
            Mega.Objects.Connections.FameSpam:Disconnect()
        end
        print("üî• Fame Spam –í–´–ö–õ–Æ–ß–ï–ù")
    end
end)
CreateButton(UtilsFrame, "üîÑ –†–µ–ª–æ–∞–¥ —Å–∫—Ä–∏–ø—Ç–∞", function()
    print("üîÑ –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...")
end)
-- –í–∫–ª–∞–¥–∫–∞ –ù–ê–°–¢–†–û–ô–ö–ò
local SettingsFrame = TabFrames["‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò"]
CreateSection(SettingsFrame, "üé® –í–ù–ï–®–ù–ò–ô –í–ò–î")
CreateButton(SettingsFrame, "üåà –°–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç–æ–≤—É—é —Ç–µ–º—É", function()
    local colors = {
        Color3.fromRGB(255, 50, 50), -- –ö—Ä–∞—Å–Ω—ã–π
        Color3.fromRGB(50, 255, 50), -- –ó–µ–ª–µ–Ω—ã–π
        Color3.fromRGB(50, 150, 255), -- –°–∏–Ω–∏–π
        Color3.fromRGB(180, 50, 255), -- –§–∏–æ–ª–µ—Ç–æ–≤—ã–π
        Color3.fromRGB(255, 150, 50) -- –û—Ä–∞–Ω–∂–µ–≤—ã–π
    }
   
    local newColor = colors[math.random(1, #colors)]
    Mega.Settings.Menu.AccentColor = newColor
    TitleBar.BackgroundColor3 = newColor
   
    for _, frame in pairs(TabFrames) do
        frame.ScrollBarImageColor3 = newColor
    end
   
    print("üé® –¶–≤–µ—Ç–æ–≤–∞—è —Ç–µ–º–∞ –∏–∑–º–µ–Ω–µ–Ω–∞")
end)
CreateKeybindButton(SettingsFrame, "üîë –ò–∑–º–µ–Ω–∏—Ç—å –∫–ª–∞–≤–∏—à—É –º–µ–Ω—é", Mega.States.Keybinds.Menu, function(key)
    Mega.States.Keybinds.Menu = key
    print("üîë –ö–ª–∞–≤–∏—à–∞ –º–µ–Ω—é –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞: " .. key)
end)
CreateSection(SettingsFrame, "üíæ –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–û–ù–§–ò–ì–ê–ú–ò")
CreateButton(SettingsFrame, "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥", function()
    local configData = {
        Settings = Mega.Settings,
        States = Mega.States,
        Stats = Mega.Database.Stats
    }
   
    Mega.Database.Configs["default"] = configData
    Mega.Database.Stats.ConfigSaves = Mega.Database.Stats.ConfigSaves + 1
   
    print("üíæ –ö–æ–Ω—Ñ–∏–≥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω (#" .. Mega.Database.Stats.ConfigSaves .. ")")
end)
CreateButton(SettingsFrame, "üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥", function()
    if Mega.Database.Configs["default"] then
        local config = Mega.Database.Configs["default"]
       
        Mega.Settings = config.Settings or Mega.Settings
        Mega.States = config.States or Mega.States
        Mega.Database.Stats = config.Stats or Mega.Database.Stats
       
        print("üìÇ –ö–æ–Ω—Ñ–∏–≥ –∑–∞–≥—Ä—É–∂–µ–Ω")
    else
        print("‚ùå –ö–æ–Ω—Ñ–∏–≥ –Ω–µ –Ω–∞–π–¥–µ–Ω")
    end
end)
CreateButton(SettingsFrame, "üîÑ –°–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏", function()
    Mega.Settings = {
        Menu = {
            Width = 900,
            Height = 500,
            BackgroundColor = Color3.fromRGB(10, 10, 25),
            TitleBarColor = Color3.fromRGB(0, 100, 200),
            AccentColor = Color3.fromRGB(0, 180, 255),
            TextColor = Color3.fromRGB(255, 255, 255),
            Transparency = 0.05,
            CornerRadius = 15,
            AnimationSpeed = 0.3
        },
        System = {
            AntiAFK = true,
            AutoSaveConfig = true,
            PerformanceMode = false,
            DebugMode = false,
            Logging = true
        }
    }
   
    MainFrame.BackgroundColor3 = Mega.Settings.Menu.BackgroundColor
    MainFrame.BackgroundTransparency = Mega.Settings.Menu.Transparency
    UICorner.CornerRadius = UDim.new(0, Mega.Settings.Menu.CornerRadius)
    TitleBar.BackgroundColor3 = Mega.Settings.Menu.TitleBarColor
    Title.TextColor3 = Mega.Settings.Menu.TextColor
    CloseButton.TextColor3 = Mega.Settings.Menu.TextColor
   
    for _, frame in pairs(TabFrames) do
        frame.ScrollBarImageColor3 = Mega.Settings.Menu.AccentColor
    end
   
    print("üîÑ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±—Ä–æ—à–µ–Ω—ã")
end)
--=== –ú–ï–ì–ê-–°–ò–°–¢–ï–ú–ê ESP ===--
function CreateESP(player)
    if player == LocalPlayer then return end
   
    local esp = {
        box = Drawing.new("Square"),
        name = Drawing.new("Text"),
        distance = Drawing.new("Text"),
        health = Drawing.new("Text"),
        tracer = Drawing.new("Line")
    }
   
    esp.box.Visible = false
    esp.box.Thickness = 2
    esp.box.Filled = false
    esp.box.ZIndex = 1
   
    esp.name.Visible = false
    esp.name.Size = 14
    esp.name.Center = true
    esp.name.Outline = true
    esp.name.ZIndex = 1
   
    esp.distance.Visible = false
    esp.distance.Size = 12
    esp.distance.Center = true
    esp.distance.Outline = true
    esp.distance.ZIndex = 1
   
    esp.health.Visible = false
    esp.health.Size = 12
    esp.health.Center = true
    esp.health.Outline = true
    esp.health.ZIndex = 1
   
    esp.tracer.Visible = false
    esp.tracer.Thickness = 1
    esp.tracer.ZIndex = 1
   
    Mega.Objects.ESP[player] = esp
end
function RemoveESP(player)
    if Mega.Objects.ESP[player] then
        for _, drawing in pairs(Mega.Objects.ESP[player]) do
            drawing:Remove()
        end
        Mega.Objects.ESP[player] = nil
    end
end
function UpdateESPColors()
    for player, esp in pairs(Mega.Objects.ESP) do
        if player and player.Character and player.Team then
            local isTeam = Mega.States.ESP.ShowTeam and player.Team == LocalPlayer.Team
            local isEnemy = player.Team ~= LocalPlayer.Team
           
            if isTeam then
                esp.box.Color = Mega.States.ESP.TeamColor
                esp.name.Color = Mega.States.ESP.TeamColor
                esp.distance.Color = Mega.States.ESP.TeamColor
                esp.health.Color = Mega.States.ESP.TeamColor
                esp.tracer.Color = Mega.States.ESP.TeamColor
            elseif isEnemy then
                esp.box.Color = Mega.States.ESP.EnemyColor
                esp.name.Color = Mega.States.ESP.EnemyColor
                esp.distance.Color = Mega.States.ESP.EnemyColor
                esp.health.Color = Mega.States.ESP.EnemyColor
                esp.tracer.Color = Mega.States.ESP.EnemyColor
            else
                esp.box.Color = Mega.States.ESP.NeutralColor
                esp.name.Color = Mega.States.ESP.NeutralColor
                esp.distance.Color = Mega.States.ESP.NeutralColor
                esp.health.Color = Mega.States.ESP.NeutralColor
                esp.tracer.Color = Mega.States.ESP.NeutralColor
            end
        end
    end
end
function UpdateESP()
    local camera = Workspace.CurrentCamera
    local screenCenter = Vector2.new(camera.ViewportSize.X / 2, camera.ViewportSize.Y)
   
    for player, esp in pairs(Mega.Objects.ESP) do
        if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local rootPart = player.Character.HumanoidRootPart
            local head = player.Character:FindFirstChild("Head")
            local humanoid = player.Character:FindFirstChild("Humanoid")
           
            if head and humanoid then
                local screenPos, onScreen = camera:WorldToViewportPoint(rootPart.Position)
                local distance = (LocalPlayer.Character.HumanoidRootPart.Position - rootPart.Position).Magnitude
               
                if onScreen and distance <= Mega.States.ESP.MaxDistance then
                    local scale = 1000 / distance
                    local width = scale * 2
                    local height = scale * 3
                   
                    if Mega.States.ESP.Boxes then
                        esp.box.Visible = Mega.States.ESP.Enabled
                        esp.box.Position = Vector2.new(screenPos.X - width/2, screenPos.Y - height/2)
                        esp.box.Size = Vector2.new(width, height)
                    else
                        esp.box.Visible = false
                    end
                   
                    if Mega.States.ESP.Names then
                        esp.name.Visible = Mega.States.ESP.Enabled
                        esp.name.Position = Vector2.new(screenPos.X, screenPos.Y - height/2 - 20)
                        esp.name.Text = player.Name
                    else
                        esp.name.Visible = false
                    end
                   
                    if Mega.States.ESP.Distance then
                        esp.distance.Visible = Mega.States.ESP.Enabled
                        esp.distance.Position = Vector2.new(screenPos.X, screenPos.Y + height/2 + 10)
                        esp.distance.Text = math.floor(distance) .. " studs"
                    else
                        esp.distance.Visible = false
                    end
                   
                    if Mega.States.ESP.Health then
                        esp.health.Visible = Mega.States.ESP.Enabled
                        esp.health.Position = Vector2.new(screenPos.X, screenPos.Y + height/2 + 30)
                        esp.health.Text = "HP: " .. math.floor(humanoid.Health)
                    else
                        esp.health.Visible = false
                    end
                   
                    if Mega.States.ESP.Tracers then
                        esp.tracer.Visible = Mega.States.ESP.Enabled
                        esp.tracer.From = Vector2.new(screenPos.X, screenPos.Y + height/2)
                        esp.tracer.To = screenCenter
                    else
                        esp.tracer.Visible = false
                    end
                   
                else
                    esp.box.Visible = false
                    esp.name.Visible = false
                    esp.distance.Visible = false
                    esp.health.Visible = false
                    esp.tracer.Visible = false
                end
            end
        else
            esp.box.Visible = false
            esp.name.Visible = false
            esp.distance.Visible = false
            esp.health.Visible = false
            esp.tracer.Visible = false
        end
    end
end
-- Kit ESP no update needed, since static creation
--=== –ú–ï–ì–ê-–°–ò–°–¢–ï–ú–ê AIM ASSIST ===--
local AimFOVCircle = nil
local AimLoopConnection = nil
local CurrentAimTarget = nil
function CreateAimFOV()
    if AimFOVCircle then
        AimFOVCircle:Remove()
    end
   
    AimFOVCircle = Drawing.new("Circle")
    AimFOVCircle.Visible = Mega.States.AimAssist.Enabled
    AimFOVCircle.Color = Color3.fromRGB(255, 255, 255)
    AimFOVCircle.Thickness = 2
    AimFOVCircle.NumSides = 100
    AimFOVCircle.Radius = Mega.States.AimAssist.FOV
    AimFOVCircle.Filled = false
end
function GetClosestPlayer()
    local closestPlayer = nil
    local closestDistance = Mega.States.AimAssist.FOV
   
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health > 0 then
            local character = player.Character
            local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
            local head = character:FindFirstChild("Head")
           
            if humanoidRootPart and head then
                local distanceToPlayer = (humanoidRootPart.Position - LocalPlayer.Character.HumanoidRootPart.Position).Magnitude
               
                if distanceToPlayer <= Mega.States.AimAssist.Range then
                    local isEnemy = true
                    if player.Team and LocalPlayer.Team then
                        isEnemy = player.Team ~= LocalPlayer.Team
                    end
                   
                    if isEnemy then
                        local screenPoint, onScreen = Workspace.CurrentCamera:WorldToViewportPoint(head.Position)
                       
                        if onScreen then
                            local mousePos = UserInputService:GetMouseLocation()
                            local distance = (Vector2.new(mousePos.X, mousePos.Y) - Vector2.new(screenPoint.X, screenPoint.Y)).Magnitude
                           
                            if distance < closestDistance then
                                closestDistance = distance
                                closestPlayer = player
                            end
                        end
                    end
                end
            end
        end
    end
   
    return closestPlayer
end
function AimAtPlayer(player)
    if not player or not player.Character then return end
   
    local character = player.Character
    local targetPart = character:FindFirstChild(Mega.States.AimAssist.TargetPart) or character:FindFirstChild("HumanoidRootPart")
    if not targetPart then return end
   
    local camera = Workspace.CurrentCamera
   
    local targetPosition = targetPart.Position
    local direction = (targetPosition - camera.CFrame.Position).Unit
   
    local currentCFrame = camera.CFrame
    local targetCFrame = CFrame.lookAt(currentCFrame.Position, targetPosition)
    local smoothCFrame = currentCFrame:Lerp(targetCFrame, Mega.States.AimAssist.Smoothness)
   
    camera.CFrame = smoothCFrame
end
function StartAimLoop()
    if AimLoopConnection then
        AimLoopConnection:Disconnect()
    end
   
    AimLoopConnection = RunService.RenderStepped:Connect(function()
        if Mega.States.AimAssist.Active and Mega.States.AimAssist.Enabled then
            CurrentAimTarget = GetClosestPlayer()
            if CurrentAimTarget then
                AimAtPlayer(CurrentAimTarget)
            else
                CurrentAimTarget = nil
            end
        end
    end)
end
function StopAimLoop()
    if AimLoopConnection then
        AimLoopConnection:Disconnect()
        AimLoopConnection = nil
    end
    CurrentAimTarget = nil
end
--=== –ú–ï–ì–ê-–°–ò–°–¢–ï–ú–ê –û–ë–†–ê–ë–û–¢–ö–ò ===--
function ToggleMenu()
    TumbaGUI.Enabled = not TumbaGUI.Enabled
   
    if TumbaGUI.Enabled then
        print("üöÄ TUMBA MEGA SYSTEM v" .. VERSION .. " –ê–ö–¢–ò–í–ò–†–û–í–ê–ù")
        print("üíé –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ " .. DEVELOPER .. " –¥–ª—è " .. SPECIAL_THANKS)
        print("üìÅ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∫–ª–∞–¥–∫–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏")
    else
        print("üì± –ú–µ–Ω—é –∑–∞–∫—Ä—ã—Ç–æ")
    end
end
-- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–ª–∞–≤–∏—à
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
   
    if input.KeyCode.Name == Mega.States.Keybinds.Menu then
        ToggleMenu()
    end
   
    if input.KeyCode.Name == Mega.States.Keybinds.AimAssist then
        if Mega.States.AimAssist.Enabled then
            Mega.States.AimAssist.Active = not Mega.States.AimAssist.Active
           
            if Mega.States.AimAssist.Active then
                StartAimLoop()
                print("üéØ Aim Assist –ê–ö–¢–ò–í–ò–†–û–í–ê–ù")
            else
                StopAimLoop()
                print("üéØ Aim Assist –î–ï–ê–ö–¢–ò–í–ò–†–û–í–ê–ù")
            end
        end
    end
end)
-- –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é
CloseButton.MouseButton1Click:Connect(function()
    ToggleMenu()
end)
-- –ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
for _, frame in pairs(TabFrames) do
    local layout = frame:FindFirstChild("UIListLayout")
    if layout then
        layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
            frame.CanvasSize = UDim2.new(0, 0, 0, layout.AbsoluteContentSize.Y + 20)
        end)
    end
end
--=== –ú–ï–ì–ê-–ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ===--
CurrentTab = "üè† –ì–õ–ê–í–ù–ê–Ø"
TabFrames["üè† –ì–õ–ê–í–ù–ê–Ø"].Visible = true
for _, child in pairs(TabContainer:GetChildren()) do
    if child:IsA("TextButton") then
        if child.Text == "üè† –ì–õ–ê–í–ù–ê–Ø" then
            child.BackgroundColor3 = Mega.Settings.Menu.AccentColor
        else
            child.BackgroundColor3 = Mega.Settings.Menu.BackgroundColor
        end
    end
end
-- –°–æ–∑–¥–∞–µ–º ESP –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
for _, player in pairs(Players:GetPlayers()) do
    CreateESP(player)
end
-- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–≥—Ä–æ–∫–æ–≤
Players.PlayerAdded:Connect(function(player)
    CreateESP(player)
end)
Players.PlayerRemoving:Connect(function(player)
    RemoveESP(player)
end)
-- –°–æ–∑–¥–∞–µ–º FOV –∫—Ä—É–≥ –¥–ª—è Aim Assist
CreateAimFOV()
-- –ó–∞–ø—É—Å–∫–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
local StartTime = tick()
Mega.Objects.Connections.Heartbeat = RunService.Heartbeat:Connect(function()
    Mega.Database.Stats.PlayTime = math.floor((tick() - StartTime) / 60)
   
    if Mega.States.ESP.Enabled then
        UpdateESP()
        UpdateESPColors()
    else
        for player, esp in pairs(Mega.Objects.ESP) do
            esp.box.Visible = false
            esp.name.Visible = false
            esp.distance.Visible = false
            esp.health.Visible = false
            esp.tracer.Visible = false
        end
    end
   
    if AimFOVCircle then
        AimFOVCircle.Visible = Mega.States.AimAssist.Enabled
        AimFOVCircle.Radius = Mega.States.AimAssist.FOV
        AimFOVCircle.Position = UserInputService:GetMouseLocation()
    end
   
    if StatsLabel then
        StatsLabel.Text = "üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê:\n"
            .. "üéØ –£–±–∏–π—Å—Ç–≤: " .. Mega.Database.Stats.Kills .. "\n"
            .. "üíÄ –°–º–µ—Ä—Ç–µ–π: " .. Mega.Database.Stats.Deaths .. "\n"
            .. "üéÆ –í—Ä–µ–º—è –∏–≥—Ä—ã: " .. Mega.Database.Stats.PlayTime .. "–º\n"
            .. "üíæ –ö–æ–Ω—Ñ–∏–≥–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ: " .. Mega.Database.Stats.ConfigSaves
    end
end)
-- –ê–Ω—Ç–∏-AFK —Å–∏—Å—Ç–µ–º–∞
if Mega.Settings.System.AntiAFK then
    local VirtualUser = game:GetService("VirtualUser")
    LocalPlayer.Idled:Connect(function()
        VirtualUser:CaptureController()
        VirtualUser:ClickButton2(Vector2.new())
    end)
end
-- –ê–≤—Ç–æ-—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤
if Mega.Settings.System.AutoSaveConfig then
    Mega.Objects.Connections.AutoSave = RunService.Heartbeat:Connect(function()
        if tick() % 300 < 1 then
            local configData = {
                Settings = Mega.Settings,
                States = Mega.States,
                Stats = Mega.Database.Stats
            }
            Mega.Database.Configs["default"] = configData
        end
    end)
end
print("üî• TUMBA MEGA SYSTEM v" .. VERSION .. " –£–°–ü–ï–®–ù–û –ó–ê–ì–†–£–ñ–ï–ù!")
print("üíé –°–æ–∑–¥–∞–Ω–æ: " .. DEVELOPER)
print("üéØ –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è: " .. SPECIAL_THANKS)
print("üìÖ –°–±–æ—Ä–∫–∞: " .. BUILD_DATE)
print("üéÆ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ RightShift –∏–ª–∏ Insert –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é")
print("üëÅÔ∏è ESP –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é")
print("üõ†Ô∏è Kit ESP –¥–æ–±–∞–≤–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é (—Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏)")
print("üéØ Aim Assist –≥–æ—Ç–æ–≤ (–ù–∞–∂–º–∏ R –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏)")
print("‚ö° –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã!")
print("üöÄ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!")
-- –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥
local configData = {
    Settings = Mega.Settings,
    States = Mega.States,
    Stats = Mega.Database.Stats
}
Mega.Database.Configs["default"] = configData
return Mega
